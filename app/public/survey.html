<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>
    <div class="container">
        <h1>Survey Questions</h1>
        <hr>
        <form>
            <h3>About you</h3>
            <div class="form-group">
                <label for="friendName">Name (Required)</label>
                <input type="name" class="form-control" id="friendName" placeholder="" required>
            </div>
            <div class="form-group">
                <label for="friendPhoto">Link to photo image (Required)</label>
                <input type="photo" class="form-control" id="friendPhoto" placeholder="" required>
            </div>
        </form>
        <h3>
            <strong>Question 1</strong>
        </h3>
        <h4>You rarely do something just out of sheer curiosity.</h4>
        <select class="form-control" id="q1">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
        <strong>Question 2</strong>
        </h3>
        <h4>You find it easy to stay relaxed even when there is some pressure.</h4>
        <select class="form-control" id="q2">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 3</strong>
        </h3>
        <h4>You consider yourself more practical than creative.</h4>
        <select class="form-control" id="q3">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 4</strong>
        </h3>
        <h4>An interesting book or a video game is often better than a social event.</h4>
        <select class="form-control" id="q4">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 5</strong>
        </h3>
        <h4>You often find yourself lost in thought when you are walking in nature.</h4>
        <select class="form-control" id="q5">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 6</strong>
        </h3>
        <h4>You do not let other people influence your actions.</h4>
        <select class="form-control" id="q6">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 7</strong>
        </h3>
        <h4>You are more of a natural improviser than a careful planner.</h4>
        <select class="form-control" id="q7">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 8</strong>
        </h3>
        <h4>If you had a business, you would find it very difficult to fire loyal but underperforming employees.</h4>
        <select class="form-control" id="q8">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 9</strong>
        </h3>
        <h4>You often contemplate the reasons for human existence.</h4>
        <select class="form-control" id="q9">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <h3>
            <strong>Question 10</strong>
        </h3>
        <h4>If your friend is sad about something, you are more likely to offer emotional support than suggest ways to deal with the problem.</h4>
        <select class="form-control" id="q10">
            <option value='0'>Choose your option</option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <br>
        <button type="submit" data-target="modal-1" class="btn btn-primary submit" id="submitBtn">Submit</button>
        <footer class="footer">
            <div class="container">
                <p>
                    <a href="/api/friends">API Friends List</a> |
                    <a href="https://github.com/mjtedder/FindAFriend">GitHub Repo</a>
                </p>
            </div>
            <!--Modal Code-->
            <div id ="modal1" class="modal">
                <div class="modal-content">
                    <h4>Meet Your New Friend!</h4>
                    <h5 id="matchName"></h5>
                    <img id="matchPic" src="" alt="No Image" width=250px>
                </div>
                <div class="modal-footer">
                    <a href="#!">Done</a>
                </div>
                </div>
            </div>
        </footer>
    </div>
</body>
<script type="text/javascript">

    $(".submit").on("click", function (event) {
        event.preventDefault();
        //checking required fields
        if($('#friendName').val === '' || $('friendPhoto').val === '') {
            event.preventDefault();

            alert('Some required fields are empty!');
        } else {
            event.preventDefault();
        }

        //grabbing user input
        let newFriend = {
            name: $("#friendName").val().trim(),
            photo: $("#friendPhoto").val().trim(),
            score: [
                $('#q1').val(),
                $('#q2').val(),
                $('#q3').val(),
                $('#q4').val(),
                $('#q5').val(),
                $('#q6').val(),
                $('#q7').val(),
                $('#q8').val(),
                $('#q9').val(),
                $('#q10').val()]
        };
        //posting to friends API
        $.ajax({
            url: '/api/friends',
            type: 'POST',
            dataType: 'JSON',
            data: newFriend,
            traditional: true
        })
        .done(function(data) {
            console.log(data);
            $('#friendName').val('');
            $('#friendPhoto').val('');
            $('#q1').val('');
            $('#q2').val('');
            $('#q3').val('');
            $('#q4').val('');
            $('#q5').val('');
            $('#q6').val('');
            $('#q7').val('');
            $('#q8').val('');
            $('#q9').val('');
            $('#q10').val('');
        });
        //$.post('/api/friends', newFriend, result => {
            })

</script>
</html>